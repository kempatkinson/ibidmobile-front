{"remainingRequest":"/Users/kempatkinson/Desktop/ibidmobile2/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kempatkinson/Desktop/ibidmobile2/client/src/views/Post.vue?vue&type=style&index=0&id=66b2084c&scoped=true&lang=css&","dependencies":[{"path":"/Users/kempatkinson/Desktop/ibidmobile2/client/src/views/Post.vue","mtime":1587516942478},{"path":"/Users/kempatkinson/Desktop/ibidmobile2/client/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kempatkinson/Desktop/ibidmobile2/client/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/kempatkinson/Desktop/ibidmobile2/client/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/kempatkinson/Desktop/ibidmobile2/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kempatkinson/Desktop/ibidmobile2/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKI2JpZCB7CiAgYmFja2dyb3VuZDogZ3JleTsKfQo="},{"version":3,"sources":["Post.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiFA;AACA;AACA","file":"Post.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <h2>{{post.name}}</h2>\n    <h2>{{post.image}}</h2>\n    <h2>Current Bid: {{post.price}}</h2>\n    <h3>Minmum raise: {{post.raise}}</h3>\n    <form>\n      <input contenteditable=\"true\" type=\"number\" v-model=\"bid\" />\n      <button type=\"button\" class=\"btn-btn-primary\" v-on:click.prevent=\"increment\">add</button>\n      <button v-on:click.prevent=\"decrement\">minus</button>\n      <button v-on:click.prevent=\"submit\">submit bid</button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  name: \"post\",\n  data() {\n    return {\n      post: this.$store.getters.post(this.$route.params.id),\n      bid:\n        this.$store.getters.post(this.$route.params.id).price +\n        this.$store.getters.post(this.$route.params.id).raise\n    };\n  },\n  methods: {\n    increment() {\n      this.bid =\n        parseInt(this.bid) +\n        this.$store.getters.post(this.$route.params.id).raise;\n    },\n    decrement() {\n      if (\n        this.bid >\n        parseInt(this.$store.getters.post(this.$route.params.id).price) +\n          this.$store.getters.post(this.$route.params.id).raise\n      ) {\n        this.bid =\n          this.bid - this.$store.getters.post(this.$route.params.id).raise;\n      }\n    },\n    async submit() {\n      if (\n        this.bid >=\n        parseInt(this.$store.getters.post(this.$route.params.id).price) +\n          this.$store.getters.post(this.$route.params.id).raise\n      ) {\n        alert(\"all good\");\n        var newPost = {\n          Id: this.$store.getters.post(this.$route.params.id).id,\n          Name: this.$store.getters.post(this.$route.params.id).name,\n          Image: this.$store.getters.post(this.$route.params.id).image,\n          Price: parseInt(this.bid),\n          Raise: parseInt(this.$store.getters.post(this.$route.params.id).raise)\n        };\n        const url =\n          \"https://localhost:5001/api/BidItems/\" + this.$route.params.id;\n        return axios\n          .put(url, newPost, {\n            headers: {\n              \"Content-Type\": \"application/json\"\n            }\n          })\n          .then(response => {\n            console.log(response)\n            this.post.price = this.bid\n          })\n          .catch(error => {\n            console.log(error.response);\n          });\n      } else {\n        alert(\"your bid is not high enough\");\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n#bid {\n  background: grey;\n}\n</style>"]}]}