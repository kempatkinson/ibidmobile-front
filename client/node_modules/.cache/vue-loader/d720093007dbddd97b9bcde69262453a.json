{"remainingRequest":"/Users/kempatkinson/Desktop/ibidmobile2/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kempatkinson/Desktop/ibidmobile2/client/src/views/Post.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kempatkinson/Desktop/ibidmobile2/client/src/views/Post.vue","mtime":1587673631860},{"path":"/Users/kempatkinson/Desktop/ibidmobile2/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kempatkinson/Desktop/ibidmobile2/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kempatkinson/Desktop/ibidmobile2/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kempatkinson/Desktop/ibidmobile2/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CiAKZXhwb3J0IGRlZmF1bHQgewogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldE5leHRJbmRleCgpLAogICAgdGhpcy5nZXRQcmV2SW5kZXgoKQogIH0sCiAgCiAgbmFtZTogInBvc3QiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewoKICAgICAgcG9zdDogdGhpcy4kc3RvcmUuZ2V0dGVycy5wb3N0KHRoaXMuJHJvdXRlLnBhcmFtcy5pZCksCiAgICAgIGJpZDoKICAgICAgICB0aGlzLiRzdG9yZS5nZXR0ZXJzLnBvc3QodGhpcy4kcm91dGUucGFyYW1zLmlkKS5wcmljZSArCiAgICAgICAgdGhpcy4kc3RvcmUuZ2V0dGVycy5wb3N0KHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkucmFpc2UsCiAgICAgIG5leHRJbmRleDogdHJ1ZSwKICAgICAgcHJldkluZGV4OiB0cnVlLAogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaW5jcmVtZW50KCkgewogICAgICB0aGlzLmJpZCA9CiAgICAgICAgcGFyc2VJbnQodGhpcy5iaWQpICsKICAgICAgICB0aGlzLiRzdG9yZS5nZXR0ZXJzLnBvc3QodGhpcy4kcm91dGUucGFyYW1zLmlkKS5yYWlzZTsKICAgIH0sCiAgICBkZWNyZW1lbnQoKSB7CiAgICAgIGlmICgKICAgICAgICB0aGlzLmJpZCA+CiAgICAgICAgcGFyc2VJbnQodGhpcy4kc3RvcmUuZ2V0dGVycy5wb3N0KHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkucHJpY2UpICsKICAgICAgICAgIHRoaXMuJHN0b3JlLmdldHRlcnMucG9zdCh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpLnJhaXNlCiAgICAgICkgewogICAgICAgIHRoaXMuYmlkID0KICAgICAgICAgIHRoaXMuYmlkIC0gdGhpcy4kc3RvcmUuZ2V0dGVycy5wb3N0KHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkucmFpc2U7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBzdWJtaXQoKSB7CiAgICAgIGlmICgKICAgICAgICB0aGlzLmJpZCA+PQogICAgICAgIHBhcnNlSW50KHRoaXMuJHN0b3JlLmdldHRlcnMucG9zdCh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpLnByaWNlKSArCiAgICAgICAgICB0aGlzLiRzdG9yZS5nZXR0ZXJzLnBvc3QodGhpcy4kcm91dGUucGFyYW1zLmlkKS5yYWlzZQogICAgICApIHsKICAgICAgICBhbGVydCgiYWxsIGdvb2QiKTsKICAgICAgICB2YXIgbmV3UG9zdCA9IHsKICAgICAgICAgIElkOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLnBvc3QodGhpcy4kcm91dGUucGFyYW1zLmlkKS5pZCwKICAgICAgICAgIE5hbWU6IHRoaXMuJHN0b3JlLmdldHRlcnMucG9zdCh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpLm5hbWUsCiAgICAgICAgICBJbWFnZTogdGhpcy4kc3RvcmUuZ2V0dGVycy5wb3N0KHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkuaW1hZ2UsCiAgICAgICAgICBQcmljZTogcGFyc2VJbnQodGhpcy5iaWQpLAogICAgICAgICAgUmFpc2U6IHBhcnNlSW50KHRoaXMuJHN0b3JlLmdldHRlcnMucG9zdCh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpLnJhaXNlKQogICAgICAgIH07CiAgICAgICAgY29uc3QgdXJsID0KICAgICAgICAgICJodHRwczovL2xvY2FsaG9zdDo1MDAxL2FwaS9CaWRJdGVtcy8iICsgdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgICAgIHJldHVybiBheGlvcwogICAgICAgICAgLnB1dCh1cmwsIG5ld1Bvc3QsIHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgICAgICB0aGlzLnBvc3QucHJpY2UgPSB0aGlzLmJpZDsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZSk7CiAgICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBhbGVydCgieW91ciBiaWQgaXMgbm90IGhpZ2ggZW5vdWdoIik7CiAgICAgIH0KICAgIH0sCiAgICBnZXROZXh0SW5kZXgoKSB7CiAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS5wb3N0cy5maW5kSW5kZXgoeCA9PiB4LmlkID09PSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpIDwgdGhpcy4kc3RvcmUuc3RhdGUucG9zdHMubGVuZ3RoKSB7CiAgICAgIHRoaXMubmV4dEluZGV4ID0gdHJ1ZTsKICAgIAogICAgICB9IGVsc2UgdGhpcy5uZXh0SW5kZXggPSBmYWxzZTsKICAgIH0sCiAgICBtb3ZlTmV4dEluZGV4KCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh0aGlzLiRzdG9yZS5zdGF0ZS5wb3N0c1t0aGlzLiRzdG9yZS5zdGF0ZS5wb3N0cy5maW5kSW5kZXgoeCA9PiB4LmlkID09PSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpICsgMV0uaWQpCiAgICAgIC8vIGNoZWNrIGJlZm9yZVJvdXRlVXBkYXRlCiAgICAgIHRoaXMucG9zdCA9IHRoaXMuJHN0b3JlLmdldHRlcnMucG9zdCh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpCiAgICAgIHRoaXMuZ2V0TmV4dEluZGV4KCkKICAgICAgdGhpcy5nZXRQcmV2SW5kZXgoKQoKICAgIH0sCiAgICBnZXRQcmV2SW5kZXgoKSB7CiAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS5wb3N0cy5maW5kSW5kZXgoeCA9PiB4LmlkID09PSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpID49IDEpIHsKICAgICAgdGhpcy5wcmV2SW5kZXggPSB0cnVlOwogICAgICB9IGVsc2UgdGhpcy5wcmV2SW5kZXggPSBmYWxzZQogICAgfSwKICAgIG1vdmVQcmV2SW5kZXgoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHRoaXMuJHN0b3JlLnN0YXRlLnBvc3RzW3RoaXMuJHN0b3JlLnN0YXRlLnBvc3RzLmZpbmRJbmRleCh4ID0+IHguaWQgPT09IHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkgLTFdLmlkKQogICAgICAvLyAvLyBjaGVjayBiZWZvcmVSb3V0ZVVwZGF0ZQogICAgICB0aGlzLnBvc3QgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLnBvc3QodGhpcy4kcm91dGUucGFyYW1zLmlkKQogICAgICB0aGlzLmdldE5leHRJbmRleCgpCiAgICAgIHRoaXMuZ2V0UHJldkluZGV4KCkKICAgIH0KICAgIAogIH0KfTsK"},{"version":3,"sources":["Post.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Post.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col d-flex justify-content-center\">\n        <div class=\"card\" style=\"width: 18rem;\">\n          <br />\n          <h3 class=\"card-title\">{{post.name}}</h3>\n          <img class=\"card-image-top\" src=\"../assets/sample.jpg\" />\n          <div class=\"card-body\">\n            <h4 class=\"card-title\">Current Bid: {{post.price}}</h4>\n            <h5>Minmum raise: {{post.raise}}</h5>\n            <div class=\"row justify-content-center\">\n              <form>\n                <a v-on:click.prevent=\"decrement\">\n                  <svg\n                    class=\"bi bi-dash-circle\"\n                    width=\"1.5em\"\n                    height=\"1.5em\"\n                    viewBox=\"0 0 16 16\"\n                    fill=\"currentColor\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                  >\n                    <path\n                      fill-rule=\"evenodd\"\n                      d=\"M8 15A7 7 0 108 1a7 7 0 000 14zm0 1A8 8 0 108 0a8 8 0 000 16z\"\n                      clip-rule=\"evenodd\"\n                    />\n                    <path\n                      fill-rule=\"evenodd\"\n                      d=\"M3.5 8a.5.5 0 01.5-.5h8a.5.5 0 010 1H4a.5.5 0 01-.5-.5z\"\n                      clip-rule=\"evenodd\"\n                    />\n                  </svg>\n                </a>\n                <input id=\"bid\" type=\"number\" v-model=\"bid\" />\n                <a v-on:click.prevent=\"increment\">\n                  <svg\n                    class=\"bi bi-plus-circle\"\n                    width=\"1.5em\"\n                    height=\"1.5em\"\n                    viewBox=\"0 0 16 16\"\n                    fill=\"currentColor\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                  >\n                    <path\n                      fill-rule=\"evenodd\"\n                      d=\"M8 3.5a.5.5 0 01.5.5v4a.5.5 0 01-.5.5H4a.5.5 0 010-1h3.5V4a.5.5 0 01.5-.5z\"\n                      clip-rule=\"evenodd\"\n                    />\n                    <path\n                      fill-rule=\"evenodd\"\n                      d=\"M7.5 8a.5.5 0 01.5-.5h4a.5.5 0 010 1H8.5V12a.5.5 0 01-1 0V8z\"\n                      clip-rule=\"evenodd\"\n                    />\n                    <path\n                      fill-rule=\"evenodd\"\n                      d=\"M8 15A7 7 0 108 1a7 7 0 000 14zm0 1A8 8 0 108 0a8 8 0 000 16z\"\n                      clip-rule=\"evenodd\"\n                    />\n                  </svg>\n                </a>\n              </form>\n            </div>\n            <br />\n            <button\n              type=\"button\"\n              class=\"btn btn-outline-dark\"\n              v-on:click.prevent=\"submit\"\n            >Submit Bid</button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <br />\n\n    <div class=\"row\">\n    <div class=\"col d-flex justify-content-center\">\n      <button v-if=\"nextIndex\" @click=\"moveNextIndex\">\n       <p> Next item</p>\n      </button>\n      <button v-if=\"prevIndex\" @click=\"movePrevIndex\">\n        <p>Previous item </p>\n      </button>\n      </div>\n    </div>\n    <div class=\"row\">\n    <div class=\"col d-flex justify-content-center\">\n      <button>\n        <router-link to=\"/\">Back to All</router-link>\n      </button>\n    </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n \nexport default {\n  mounted() {\n    this.getNextIndex(),\n    this.getPrevIndex()\n  },\n  \n  name: \"post\",\n  data() {\n    return {\n\n      post: this.$store.getters.post(this.$route.params.id),\n      bid:\n        this.$store.getters.post(this.$route.params.id).price +\n        this.$store.getters.post(this.$route.params.id).raise,\n      nextIndex: true,\n      prevIndex: true,\n    }\n  },\n  methods: {\n    increment() {\n      this.bid =\n        parseInt(this.bid) +\n        this.$store.getters.post(this.$route.params.id).raise;\n    },\n    decrement() {\n      if (\n        this.bid >\n        parseInt(this.$store.getters.post(this.$route.params.id).price) +\n          this.$store.getters.post(this.$route.params.id).raise\n      ) {\n        this.bid =\n          this.bid - this.$store.getters.post(this.$route.params.id).raise;\n      }\n    },\n    async submit() {\n      if (\n        this.bid >=\n        parseInt(this.$store.getters.post(this.$route.params.id).price) +\n          this.$store.getters.post(this.$route.params.id).raise\n      ) {\n        alert(\"all good\");\n        var newPost = {\n          Id: this.$store.getters.post(this.$route.params.id).id,\n          Name: this.$store.getters.post(this.$route.params.id).name,\n          Image: this.$store.getters.post(this.$route.params.id).image,\n          Price: parseInt(this.bid),\n          Raise: parseInt(this.$store.getters.post(this.$route.params.id).raise)\n        };\n        const url =\n          \"https://localhost:5001/api/BidItems/\" + this.$route.params.id;\n        return axios\n          .put(url, newPost, {\n            headers: {\n              \"Content-Type\": \"application/json\"\n            }\n          })\n          .then(response => {\n            console.log(response);\n            this.post.price = this.bid;\n          })\n          .catch(error => {\n            console.log(error.response);\n          });\n      } else {\n        alert(\"your bid is not high enough\");\n      }\n    },\n    getNextIndex() {\n      if (this.$store.state.posts.findIndex(x => x.id === this.$route.params.id) < this.$store.state.posts.length) {\n      this.nextIndex = true;\n    \n      } else this.nextIndex = false;\n    },\n    moveNextIndex() {\n      this.$router.push(this.$store.state.posts[this.$store.state.posts.findIndex(x => x.id === this.$route.params.id) + 1].id)\n      // check beforeRouteUpdate\n      this.post = this.$store.getters.post(this.$route.params.id)\n      this.getNextIndex()\n      this.getPrevIndex()\n\n    },\n    getPrevIndex() {\n      if (this.$store.state.posts.findIndex(x => x.id === this.$route.params.id) >= 1) {\n      this.prevIndex = true;\n      } else this.prevIndex = false\n    },\n    movePrevIndex() {\n      this.$router.push(this.$store.state.posts[this.$store.state.posts.findIndex(x => x.id === this.$route.params.id) -1].id)\n      // // check beforeRouteUpdate\n      this.post = this.$store.getters.post(this.$route.params.id)\n      this.getNextIndex()\n      this.getPrevIndex()\n    }\n    \n  }\n};\n</script>\n\n<style scoped>\ninput {\n  margin-left: 5%;\n  margin-right: 5%;\n  width: 60%;\n  background-color: lightgray;\n}\nimg {\n  margin: 5%;\n}\n\n</style>"]}]}