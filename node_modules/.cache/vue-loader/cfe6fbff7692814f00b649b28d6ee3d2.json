{"remainingRequest":"/Users/kempatkinson/Desktop/ibidmobile2/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kempatkinson/Desktop/ibidmobile2/client/src/components/GameCard.vue?vue&type=style&index=0&id=30933152&lang=scss&scoped=true&","dependencies":[{"path":"/Users/kempatkinson/Desktop/ibidmobile2/client/src/components/GameCard.vue","mtime":1587751865196},{"path":"/Users/kempatkinson/Desktop/ibidmobile2/client/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kempatkinson/Desktop/ibidmobile2/client/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/kempatkinson/Desktop/ibidmobile2/client/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/kempatkinson/Desktop/ibidmobile2/client/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kempatkinson/Desktop/ibidmobile2/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kempatkinson/Desktop/ibidmobile2/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKQGltcG9ydCAiLi4vc3R5bGVzL2luZGV4LnNjc3MiOwoKJGNhcmRzVG90YWw6IDM7CiRjYXJkc1dpZHRoOiAzMDBweDsKJGNhcmRzUG9zaXRpb25PZmZzZXQ6IDU1dmggKiAwLjA2OwokY2FyZHNTY2FsZU9mZnNldDogMC4wODsKJGRlZmF1bHRUcmFuc2xhdGlvbjogJGNhcmRzUG9zaXRpb25PZmZzZXQgKiAkY2FyZHNUb3RhbDsKJGRlZmF1bHRTY2FsZTogMSAtICgkY2FyZHNTY2FsZU9mZnNldCAqICRjYXJkc1RvdGFsKTsKJGZzLWNhcmQtdGl0bGU6IDEuMTI1ZW07CgouY2FyZCB7CiAgQGluY2x1ZGUgY2FyZCgpOwogIEBpbmNsdWRlIGFic29sdXRlKDApOwogIEBpbmNsdWRlIHNpemluZygxMDAlIDgwdncpOwogIEBpbmNsdWRlIGZsZXgtY2VudGVyKCk7CgogIEBpbmNsdWRlIGFmdGVyKCkgewogICAgQGluY2x1ZGUgc2l6aW5nKDIxcHggM3B4KTsKICAgIEBpbmNsdWRlIGFic29sdXRlKHJpZ2h0IDAgYm90dG9tIDExcHggbGVmdCAwKTsKCiAgICBtYXJnaW46IGF1dG87CiAgICBib3JkZXItcmFkaXVzOiAxMDBweDsKICAgIGJhY2tncm91bmQ6IHJnYmEoJGMtYmxhY2ssIDAuMyk7CiAgfQoKICBkaXNwbGF5OiBmbGV4OwogIG1heC1oZWlnaHQ6IDM1MHB4OwogIG1hcmdpbjogYXV0bzsKICBmb250LXNpemU6ICRmcy1oMjsKICBmb250LXdlaWdodDogJGZ3LWJvbGQ7CiAgY29sb3I6ICRjLXdoaXRlOwogIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCgKICAgIC0xODBkZWcsCiAgICAkcHJpbWFyeS1ncmFkaWVudC1zdGFydCAyJSwKICAgICRwcmltYXJ5LWdyYWRpZW50LWVuZCAxMDAlCiAgKTsKICBvcGFjaXR5OiAwOwogIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgkZGVmYXVsdFRyYW5zbGF0aW9uKSBzY2FsZSgkZGVmYXVsdFNjYWxlKTsKICB0cmFuc2Zvcm0tb3JpZ2luOiA1MCUsIDEwMCU7CiAgYm94LXNoYWRvdzogMCAwIDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpOwogIHVzZXItc2VsZWN0OiBub25lOwogIHBvaW50ZXItZXZlbnRzOiBub25lOwogIHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm0sIG9wYWNpdHk7CgogIGhlaWdodDogMTAwdnc7CgogICYuaXNDdXJyZW50IHsKICAgIHBvaW50ZXItZXZlbnRzOiBhdXRvOwogIH0KCiAgJi5pc0FuaW1hdGluZyB7CiAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC43cyAkZWFzZS1vdXQtYmFjazsKICB9Cn0KCi5jYXJkVGl0bGUgewogIG1hcmdpbjogMCAwIDE1cHg7CiAgZm9udC1zaXplOiAkZnMtY2FyZC10aXRsZTsKfQoKQGZvciAkaSBmcm9tIDEgdGhyb3VnaCAkY2FyZHNUb3RhbCB7CiAgJGluZGV4OiAkaSAtIDE7CiAgJHRyYW5zbGF0aW9uOiAkY2FyZHNQb3NpdGlvbk9mZnNldCAqICRpbmRleDsKICAkc2NhbGU6IDEgLSAoJGNhcmRzU2NhbGVPZmZzZXQgKiAkaW5kZXgpOwoKICAuY2FyZDpudGgtY2hpbGQoI3skaX0pIHsKICAgIHotaW5kZXg6ICRjYXJkc1RvdGFsIC0gJGluZGV4OwogICAgb3BhY2l0eTogMTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgkdHJhbnNsYXRpb24pIHNjYWxlKCRzY2FsZSk7CgogICAgQGlmICRpID09IDMgewogICAgICBjb2xvcjogJGMtcmVkLTI1OwogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkYy1yZWQtMjU7CiAgICB9IEBlbHNlIGlmICRpID09IDIgewogICAgICBjb2xvcjogJGMtcmVkLTUwOwogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkYy1yZWQtNTA7CiAgICB9CgogICAgQGlmICRpICE9IDEgewogICAgICBiYWNrZ3JvdW5kLWltYWdlOiBub25lOwoKICAgICAgQGluY2x1ZGUgYWZ0ZXIoKSB7CiAgICAgICAgQGluY2x1ZGUgc2l6aW5nKDAgMCk7CiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["GameCard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwKA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"GameCard.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div\n    v-if=\"isShowing\"\n    ref=\"interactElement\"\n    :class=\"{\n      isAnimating: isInteractAnimating,\n      isCurrent: isCurrent\n    }\"\n    class=\"card\"\n    :style=\"{ transform: transformString }\"\n  >\n    <h3 class=\"cardTitle\">{{ card }}</h3>\n  </div>\n</template>\n\n<script>\nimport interact from \"interact.js\";\nconst ACCEPT_CARD = \"cardAccepted\";\nconst REJECT_CARD = \"cardRejected\";\nconst SKIP_CARD = \"cardSkipped\";\n\nexport default {\n  static: {\n    interactMaxRotation: 15,\n    interactOutOfSightXCoordinate: 500,\n    interactOutOfSightYCoordinate: 600,\n    interactYThreshold: 150,\n    interactXThreshold: 100\n  },\n\n  props: {\n    card: {\n      type: String,\n      required: true\n    },\n    isCurrent: {\n      type: Boolean,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      isShowing: true,\n      isInteractAnimating: true,\n      isInteractDragged: null,\n      interactPosition: {\n        x: 0,\n        y: 0,\n        rotation: 0\n      }\n    };\n  },\n\n  computed: {\n    transformString() {\n      if (!this.isInteractAnimating || this.isInteractDragged) {\n        const { x, y, rotation } = this.interactPosition;\n        return `translate3D(${x}px, ${y}px, 0) rotate(${rotation}deg)`;\n      }\n\n      return null;\n    }\n  },\n\n  mounted() {\n    const element = this.$refs.interactElement;\n\n    interact(element).draggable({\n      onstart: () => {\n        this.isInteractAnimating = false;\n      },\n\n      onmove: event => {\n        const {\n          interactMaxRotation,\n          interactXThreshold\n        } = this.$options.static;\n        const x = this.interactPosition.x + event.dx;\n        const y = this.interactPosition.y + event.dy;\n\n        let rotation = interactMaxRotation * (x / interactXThreshold);\n\n        if (rotation > interactMaxRotation) rotation = interactMaxRotation;\n        else if (rotation < -interactMaxRotation)\n          rotation = -interactMaxRotation;\n\n        this.interactSetPosition({ x, y, rotation });\n      },\n\n      onend: () => {\n        const { x, y } = this.interactPosition;\n        const { interactXThreshold, interactYThreshold } = this.$options.static;\n        this.isInteractAnimating = true;\n\n        if (x > interactXThreshold) this.playCard(ACCEPT_CARD);\n        else if (x < -interactXThreshold) this.playCard(REJECT_CARD);\n        else if (y > interactYThreshold) this.playCard(SKIP_CARD);\n        else this.resetCardPosition();\n      }\n    });\n  },\n\n  beforeDestroy() {\n    interact(this.$refs.interactElement).unset();\n  },\n\n  methods: {\n    hideCard() {\n      setTimeout(() => {\n        this.isShowing = false;\n        this.$emit(\"hideCard\", this.card);\n      }, 300);\n    },\n\n    playCard(interaction) {\n      const {\n        interactOutOfSightXCoordinate,\n        interactOutOfSightYCoordinate,\n        interactMaxRotation\n      } = this.$options.static;\n\n      this.interactUnsetElement();\n\n      switch (interaction) {\n        case ACCEPT_CARD:\n          this.interactSetPosition({\n            x: interactOutOfSightXCoordinate,\n            rotation: interactMaxRotation\n          });\n          this.$emit(ACCEPT_CARD);\n          break;\n        case REJECT_CARD:\n          this.interactSetPosition({\n            x: -interactOutOfSightXCoordinate,\n            rotation: -interactMaxRotation\n          });\n          this.$emit(REJECT_CARD);\n          break;\n        case SKIP_CARD:\n          this.interactSetPosition({\n            y: interactOutOfSightYCoordinate\n          });\n          this.$emit(SKIP_CARD);\n          break;\n      }\n\n      this.hideCard();\n    },\n\n    interactSetPosition(coordinates) {\n      const { x = 0, y = 0, rotation = 0 } = coordinates;\n      this.interactPosition = { x, y, rotation };\n    },\n\n    interactUnsetElement() {\n      interact(this.$refs.interactElement).unset();\n      this.isInteractDragged = true;\n    },\n\n    resetCardPosition() {\n      this.interactSetPosition({ x: 0, y: 0, rotation: 0 });\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../styles/index.scss\";\n\n$cardsTotal: 3;\n$cardsWidth: 300px;\n$cardsPositionOffset: 55vh * 0.06;\n$cardsScaleOffset: 0.08;\n$defaultTranslation: $cardsPositionOffset * $cardsTotal;\n$defaultScale: 1 - ($cardsScaleOffset * $cardsTotal);\n$fs-card-title: 1.125em;\n\n.card {\n  @include card();\n  @include absolute(0);\n  @include sizing(100% 80vw);\n  @include flex-center();\n\n  @include after() {\n    @include sizing(21px 3px);\n    @include absolute(right 0 bottom 11px left 0);\n\n    margin: auto;\n    border-radius: 100px;\n    background: rgba($c-black, 0.3);\n  }\n\n  display: flex;\n  max-height: 350px;\n  margin: auto;\n  font-size: $fs-h2;\n  font-weight: $fw-bold;\n  color: $c-white;\n  background-image: linear-gradient(\n    -180deg,\n    $primary-gradient-start 2%,\n    $primary-gradient-end 100%\n  );\n  opacity: 0;\n  transform: translateY($defaultTranslation) scale($defaultScale);\n  transform-origin: 50%, 100%;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n  user-select: none;\n  pointer-events: none;\n  will-change: transform, opacity;\n\n  height: 100vw;\n\n  &.isCurrent {\n    pointer-events: auto;\n  }\n\n  &.isAnimating {\n    transition: transform 0.7s $ease-out-back;\n  }\n}\n\n.cardTitle {\n  margin: 0 0 15px;\n  font-size: $fs-card-title;\n}\n\n@for $i from 1 through $cardsTotal {\n  $index: $i - 1;\n  $translation: $cardsPositionOffset * $index;\n  $scale: 1 - ($cardsScaleOffset * $index);\n\n  .card:nth-child(#{$i}) {\n    z-index: $cardsTotal - $index;\n    opacity: 1;\n    transform: translateY($translation) scale($scale);\n\n    @if $i == 3 {\n      color: $c-red-25;\n      background-color: $c-red-25;\n    } @else if $i == 2 {\n      color: $c-red-50;\n      background-color: $c-red-50;\n    }\n\n    @if $i != 1 {\n      background-image: none;\n\n      @include after() {\n        @include sizing(0 0);\n      }\n    }\n  }\n}\n</style>\n"]}]}