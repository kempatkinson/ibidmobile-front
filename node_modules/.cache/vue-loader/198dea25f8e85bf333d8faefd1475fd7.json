{"remainingRequest":"/Users/kempatkinson/Desktop/ibid/ibid-mobile/ibidmobile-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kempatkinson/Desktop/ibid/ibid-mobile/ibidmobile-front/src/views/LogIn.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kempatkinson/Desktop/ibid/ibid-mobile/ibidmobile-front/src/views/LogIn.vue","mtime":1601581198230},{"path":"/Users/kempatkinson/Desktop/ibid/ibid-mobile/ibidmobile-front/node_modules/cache-loader/dist/cjs.js","mtime":1591384219978},{"path":"/Users/kempatkinson/Desktop/ibid/ibid-mobile/ibidmobile-front/node_modules/babel-loader/lib/index.js","mtime":1591384219394},{"path":"/Users/kempatkinson/Desktop/ibid/ibid-mobile/ibidmobile-front/node_modules/cache-loader/dist/cjs.js","mtime":1591384219978},{"path":"/Users/kempatkinson/Desktop/ibid/ibid-mobile/ibidmobile-front/node_modules/vue-loader/lib/index.js","mtime":1591384224540}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IHsKICAgIG1hcFN0YXRlCn0gZnJvbSAndnVleCcKaW1wb3J0IHNoYTI1NiBmcm9tICJjcnlwdG8tanMvc2hhMjU2IjsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJsb2dpbiIsCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHVzZXI6IHt9LAoKICAgICAgICAgICAgcmVxdWVzdGVkRXZlbnQ6IHRoaXMuJHN0b3JlLnN0YXRlLmV2ZW50CiAgICAgICAgfTsKICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIGlzTG9nZ2VkSW4oKSB7CiAgICAgICAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLlVzZXJJRCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZQogICAgICAgICAgICB9IGVsc2UKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9LAogICAgICAgIC4uLm1hcFN0YXRlWyd1c2VyJ10KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgbG9nT3V0KCkgewogICAgICAgICAgICAvLyBzYXZlIGZhdm9yaXRlcyB0byBkYXRhYmFzZQogICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgibG9nSW5Vc2VyIiwge30pOwogICAgICAgICAgICAvLyBjbGVhciBmYXZvcml0ZXMgd2hlbiBsb2cgb3V0CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJjbGVhckZhdm9yaXRlcyIpOwoKICAgICAgICB9LAogICAgICAgIC8vY2hlY2sgZm9yIGlCaWQgYWNjb3VudAogICAgICAgIGNoZWNrRW1haWwoKSB7CiAgICAgICAgICAgIGlmICgkKCIjZW1haWwiKS52YWwoKSA9PT0gIiIpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCJub3BlISIpOwogICAgICAgICAgICAgICAgJCgiI2VtYWlsIikuc3R5bGUoImJhY2tncm91bmQtY29sb3I6IHJlZCIpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgJCgiI25leHQiKS5oaWRlKCk7CiAgICAgICAgICAgICAgICBheGlvcwogICAgICAgICAgICAgICAgICAgIC5nZXQoImh0dHBzOi8vbG9jYWxob3N0OjUwMDEvYXBpL3VzZXJzL2VtYWlsLyIgKyAkKCIjZW1haWwiKS52YWwoKSkKICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXNlciA9IHJlc3BvbnNlLmRhdGFbMF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrSUQodGhpcy51c2VyLlVzZXJJRCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCIjcGFzc3dvcmRGb3JtIikuc2hvdygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgiI2ZvcmdvdGJ1dHRvbiIpLnNob3coKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCIjcGFzc3dvcmRGb3JtIikuc2hvdygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgiI2xvZ2luYnV0dG9uIikuaGlkZSgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoIiNyZWdpc3RlckZvcm0iKS5zaG93KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgLy8gY2hlY2sgZm9yIEV2ZW50IFJlZ2lzdHJhdGlvbgogICAgICAgIGNoZWNrSUQ6IGZ1bmN0aW9uIChpZCkgewogICAgICAgICAgICBheGlvcwogICAgICAgICAgICAgICAgLmdldCgiaHR0cHM6Ly9sb2NhbGhvc3Q6NTAwMS9hcGkvdXNlcnMvIiArIGlkKQogICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGFbMF0uRyk7CiAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50cyA9IHJlc3BvbnNlLmRhdGFbMF0uRy5tYXAoeCA9PiB4LkV2ZW50SUQpOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGV2ZW50cyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50cy5jb250YWlucyh0aGlzLnJlcXVlc3RlZEV2ZW50LkV2ZW50SUQpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJyZWdpc3RlcmVkIGZvciByZXF1ZXN0ZWQgZXZlbnQiKTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi92LyIgKyB0aGlzLnJlcXVlc3RlZEV2ZW50WzBdLkV2ZW50SW5mb1swXS5UaW55SUQpCgogICAgICAgICAgICAgICAgICAgICAgICAvL3JlZGlyZWN0IHRvIGV2ZW50CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIm5vdCByZWdpc3RlcmVkIGZvciBldmVudCIpOwogICAgICAgICAgICAgICAgICAgICAgICAkKCIjcmVnaXN0ZXJFdmVudEZvcm0iKS5zaG93KCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBsb2dJbigpIHsKICAgICAgICAgICAgLy8gdXNlIHNhbHQgdG8gaGFzaCBwYXNzd29yZAogICAgICAgICAgICB0aGlzLmNoZWNrRW1haWwoKTsKICAgICAgICAgICAgdmFyIHBhc3N3b3JkID0gJCgiI3Bhc3N3b3JkIikudmFsKCk7CiAgICAgICAgICAgIHZhciBzYWx0ID0gdGhpcy51c2VyLlNhbHQ7CiAgICAgICAgICAgIHZhciBoYXNoRGlnZXN0ID0gc2hhMjU2KHNhbHQgKyBwYXNzd29yZCk7CiAgICAgICAgICAgIHZhciBzaG9ydGVuZWRQYXNzID0gaGFzaERpZ2VzdC50b1N0cmluZygpLnN1YnN0cigwLCB0aGlzLnVzZXIuUGFzc3dvcmQubGVuZ3RoKQoKICAgICAgICAgICAgLy8gaWYgaGFzaGVkUGFzc3dvcmQgbWF0Y2hlcyBzdG9yZWQgaGFzaGVkUGFzc3dvcmQgdGhlbiBsb2cgdGhlbSBpbjsKICAgICAgICAgICAgaWYgKHNob3J0ZW5lZFBhc3MgPT0gdGhpcy51c2VyLlBhc3N3b3JkKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgibG9nSW5Vc2VyIiwgdGhpcy51c2VyKTsKICAgICAgICAgICAgICAgIC8vIGNoZWNrIHJlZ2lzdHJhdGlvbiBmb3IgZXZlbnQKICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tJRCh0aGlzLnVzZXIuVXNlcklEKTsKICAgICAgICAgICAgICAgIC8vIHB1c2ggaW4gZmF2b3JpdGVzCgogICAgICAgICAgICAgICAgLy8gaWYgcmVnaXN0ZXJlZCwgZ28gdG8gZXZlbnQKCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0RmF2b3JpdGVzIiwgdGhpcy4kc3RvcmUuc3RhdGUudXNlci5Vc2VySUQpOwoKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvdi8iICsgdGhpcy5yZXF1ZXN0ZWRFdmVudFswXS5FdmVudEluZm9bMF0uVGlueUlEKQoKICAgICAgICAgICAgfSBlbHNlIGFsZXJ0KCJ3cm9uZyBwYXNzd29yZCEgdHJ5IGFnYWluIik7CgogICAgICAgIH0sCiAgICAgICAgcmVnaXN0ZXJpQmlkKCkgewogICAgICAgICAgICAvLyBpZiAodGhpcy52YWxpZGF0ZSgpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB2YXIgc2FsdCA9IHRoaXMuY3JlYXRlU2FsdCgpCiAgICAgICAgICAgICAgICB2YXIgcGFzc3dvcmQgPSAkKCIjcGFzc3dvcmQiKS52YWwoKTsKICAgICAgICAgICAgICAgIHZhciBoYXNoRGlnZXN0ID0gc2hhMjU2KHNhbHQgKyBwYXNzd29yZCk7CiAgICAgICAgICAgICAgICAvLyBoYXNoRGlnZXN0IGlzIGFycmF5IG9mIEJ5dGVzCiAgICAgICAgICAgICAgICB2YXIgbXlEYXRhID0gewogICAgICAgICAgICAgICAgICAgIGVtYWlsOiAkKCIjZW1haWwiKS52YWwoKSwKCiAgICAgICAgICAgICAgICAgICAgLy9ob3cgdG8gZW5jb2RlIGFycmF5IG9mIGJ5dGVzIGFzIHN0cmluZwogICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBoYXNoRGlnZXN0LnRvU3RyaW5nKCksCiAgICAgICAgICAgICAgICAgICAgc2FsdDogc2FsdCwKICAgICAgICAgICAgICAgICAgICBmbmFtZTogJCgiI2ZOYW1lIikudmFsKCksCiAgICAgICAgICAgICAgICAgICAgbG5hbWU6ICQoIiNsTmFtZSIpLnZhbCgpLAogICAgICAgICAgICAgICAgICAgIHppcGNvZGU6ICQoIiN6aXBjb2RlIikudmFsKCksCiAgICAgICAgICAgICAgICAgICAgcGhvbmU6ICQoIiNwaG9uZSIpLnZhbCgpCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgJC5hamF4KHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAiUE9TVCIsCiAgICAgICAgICAgICAgICAgICAgYXN5bmM6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICJqc29uIiwKICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgICAgICAgICAgIHVybDogImh0dHBzOi8vbG9jYWxob3N0OjUwMDEvYXBpL3VzZXJzIiwKICAgICAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShteURhdGEpLAogICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJSZXNwb25zZSBEYXRhIOKGkyIpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGZvcmdvdCgpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ3lvdSBmb3Jnb3QgbWUhJykKICAgICAgICB9LAogICAgICAgIGNyZWF0ZVNhbHQoKSB7CiAgICAgICAgICAgIHZhciBzYWx0ID0gIiI7CiAgICAgICAgICAgIHZhciBzZWxlY3Rpb24gPSAiMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVoiOwogICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSAzMDsgaSsrKSB7CiAgICAgICAgICAgICAgICBzYWx0ICs9IHNlbGVjdGlvbi5jaGFyQXQoCiAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogc2VsZWN0aW9uLmxlbmd0aCkKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHNhbHQKICAgICAgICB9LAogICAgICAgIHZhbGlkYXRlKCkgewogICAgICAgICAgICBpZiAoJCgiI3Bob25lIikudmFsKCkubGVuZ3RoIDwgMTAgfHwgJCgiI2NjbnVtYmVyIikudmFsKCkubGVuZ3RoIDwgMTYpIHsKICAgICAgICAgICAgICAgIGlmICgkKCIjcGhvbmUiKS52YWwoKS5sZW5ndGggPCAxMCkgewogICAgICAgICAgICAgICAgICAgICQoIiNwaG9uZSIpLmNzcyh7CiAgICAgICAgICAgICAgICAgICAgICAgICJiYWNrZ3JvdW5kLWNvbG9yIjogIiNmZmNjY2IiCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoInBsZWFzZSBlbnRlciBhIG1vYmlsZSBwaG9uZSBudW1iZXIgd2l0aCB0ZW4gb3IgbW9yZSBudW1iZXJzIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoJCgiI2NjbnVtYmVyIikudmFsKCkubGVuZ3RoIDwgMTYpIHsKICAgICAgICAgICAgICAgICAgICAkKCIjY2NudW1iZXIiKS5jc3MoewogICAgICAgICAgICAgICAgICAgICAgICAiYmFja2dyb3VuZC1jb2xvciI6ICIjZmZjY2NiIgogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCJwbGVhc2UgZW50ZXIgYSB2YWxpZCBjcmVkaXQgY2FyZCBudW1iZXIiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfSBlbHNlIHJldHVybiB0cnVlOwogICAgICAgIH0sCiAgICAgICAgc3RyaW5nMmJ5dGVzKHN0cikgewogICAgICAgICAgICB2YXIgYnl0ZXMgPSBbXTsKCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7CiAgICAgICAgICAgICAgICBieXRlcy5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gYnl0ZXM7CiAgICAgICAgfSwKICAgIH0sCgogICAgbW91bnRlZCgpIHsKICAgICAgICAkKCIjcGFzc3dvcmRGb3JtIikuaGlkZSgpOwogICAgICAgICQoIiNyZWdpc3RlckZvcm0iKS5oaWRlKCk7CiAgICAgICAgJCgiI3JlZ2lzdGVyRXZlbnQiKS5oaWRlKCk7CiAgICAgICAgJCgiI2VtYWlsRm9ybSIpLmhpZGUoKTsKCiAgICAgICAgaWYgKHRoaXMuaXNMb2dnZWRJbikgewogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLiRzdG9yZS5zdGF0ZS51c2VyKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAkKCIjZW1haWxGb3JtIikuc2hvdygpOwogICAgICAgIH0KICAgIH0KCn07Cg=="},{"version":3,"sources":["LogIn.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyHA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"LogIn.vue","sourceRoot":"src/views","sourcesContent":["<template>\n<div id=\"login\">\n    <h1>iBid Login</h1>\n    <br />\n    <div class=\"row\" v-if=\"isLoggedIn\">\n        <div class=\"col-6 offset-md-3\">\n\n            <h3>You're already logged in! Do you want to log out? </h3>\n\n            <button class=\"btn btn-primary\" @click=\"logOut\">Log Out</button>\n\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-6 offset-md-3\">\n            <div id=\"emailForm\" v-if=\"!isLoggedIn\">\n                <label for=\"email\">Please enter your email:</label>\n                <br />\n                <input type=\"text\" id=\"email\" name=\"email\" class=\"form-control\" />\n                <br />\n                <button class=\"btn btn-primary\" id=\"next\" @click=\"checkEmail\">Next</button>\n            </div>\n            <div id=\"passwordForm\" v-if=\"!isLoggedIn\">\n\n                <label for=\"password\">Password:</label>\n                <input type=\"text\" id=\"password\" name=\"password\" class=\"form-control\" />\n                <button class=\"btn btn-primary\" @click=\"forgot\" id=\"forgotbutton\">Forgot Password?</button>\n                <button class=\"btn btn-primary\" id=\"loginbutton\" @click=\"logIn\">Log In</button>\n            </div>\n            <div id=\"registerForm\">\n                <div class=\"row\">\n                    <div class=\"col-6\">\n                        <label for=\"firstName\">First Name:</label>\n                        <br />\n\n                        <input type=\"text\" id=\"fName\" name=\"firstName\" class=\"form-control\" />\n                    </div>\n                    <div class=\"col-6\">\n                        <label for=\"lastName\">Last Name:</label>\n                        <br />\n\n                        <input type=\"text\" id=\"lName\" name=\"lastName\" class=\"form-control\" />\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-12\">\n                        <label for=\"phone\">Phone:</label>\n                        <br />\n\n                        <input type=\"number\" id=\"phone\" name=\"phone\" class=\"form-control\" />\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-12\">\n                        <label for=\"ccnumber\">Credit Card Number:</label>\n                        <br />\n\n                        <input type=\"number\" id=\"ccnumber\" name=\"ccnumber\" class=\"form-control\" />\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-12\">\n                        <label for=\"nameoncard\">Name on card:</label>\n                        <br />\n\n                        <input type=\"text\" id=\"nameoncard\" name=\"nameoncard\" class=\"form-control\" />\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-6\">\n                        <label for=\"expdate\">Expiration Date:</label>\n                        <br />\n\n                        <input type=\"month\" id=\"expdate\" name=\"expdate\" class=\"form-control\" />\n                    </div>\n                    <div class=\"col-6\">\n                        <label for=\"cvvcode\">CVV Code:</label>\n                        <br />\n\n                        <input type=\"number\" id=\"cvvcode\" name=\"cvvcode\" class=\"form-control\" />\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-12\">\n                        <label for=\"address\">Address:</label>\n                        <br />\n\n                        <input type=\"text\" id=\"address\" name=\"address\" class=\"form-control\" />\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-12\">\n                        <label for=\"city\">City:</label>\n                        <br />\n\n                        <input type=\"text\" id=\"city\" name=\"city\" class=\"form-control\" />\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-6\">\n                        <label for=\"state\">State:</label>\n                        <br />\n\n                        <input type=\"text\" id=\"state\" name=\"state\" class=\"form-control\" />\n                    </div>\n                    <div class=\"col-6\">\n                        <label for=\"zipcode\">Zipcode:</label>\n                        <br />\n\n                        <input type=\"number\" id=\"zipcode\" name=\"zipcode\" class=\"form-control\" />\n                    </div>\n                </div>\n\n                <button class=\"btn btn-primary\" @click=\"registeriBid\">Register for iBid</button>\n            </div>\n        </div>\n    </div>\n</div>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport {\n    mapState\n} from 'vuex'\nimport sha256 from \"crypto-js/sha256\";\n\nexport default {\n    name: \"login\",\n    data() {\n        return {\n            user: {},\n\n            requestedEvent: this.$store.state.event\n        };\n    },\n    computed: {\n        isLoggedIn() {\n            if (this.$store.state.user.UserID !== undefined) {\n                return true\n            } else\n                return false;\n        },\n        ...mapState['user']\n    },\n    methods: {\n        logOut() {\n            // save favorites to database\n            this.$store.dispatch(\"logInUser\", {});\n            // clear favorites when log out\n            this.$store.dispatch(\"clearFavorites\");\n\n        },\n        //check for iBid account\n        checkEmail() {\n            if ($(\"#email\").val() === \"\") {\n                alert(\"nope!\");\n                $(\"#email\").style(\"background-color: red\");\n            } else {\n                $(\"#next\").hide();\n                axios\n                    .get(\"https://localhost:5001/api/users/email/\" + $(\"#email\").val())\n                    .then(response => {\n                        if (response.data.length > 0) {\n                            this.user = response.data[0];\n                            this.checkID(this.user.UserID);\n                            $(\"#passwordForm\").show();\n                            $(\"#forgotbutton\").show();\n\n                        } else {\n                            $(\"#passwordForm\").show();\n                            $(\"#loginbutton\").hide();\n\n                            $(\"#registerForm\").show();\n                        }\n                    })\n                    .catch(error => {\n                        console.log(error);\n                    });\n            }\n        },\n        // check for Event Registration\n        checkID: function (id) {\n            axios\n                .get(\"https://localhost:5001/api/users/\" + id)\n                .then(response => {\n                    console.log(response.data[0].G);\n                    var events = response.data[0].G.map(x => x.EventID);\n                    console.log(events);\n                    if (events.contains(this.requestedEvent.EventID)) {\n                        console.log(\"registered for requested event\");\n                        this.$router.push(\"/v/\" + this.requestedEvent[0].EventInfo[0].TinyID)\n\n                        //redirect to event\n                    } else {\n                        console.log(\"not registered for event\");\n                        $(\"#registerEventForm\").show();\n                    }\n                })\n                .catch(error => {\n                    return error;\n                });\n        },\n        logIn() {\n            // use salt to hash password\n            this.checkEmail();\n            var password = $(\"#password\").val();\n            var salt = this.user.Salt;\n            var hashDigest = sha256(salt + password);\n            var shortenedPass = hashDigest.toString().substr(0, this.user.Password.length)\n\n            // if hashedPassword matches stored hashedPassword then log them in;\n            if (shortenedPass == this.user.Password) {\n                this.$store.dispatch(\"logInUser\", this.user);\n                // check registration for event\n                this.checkID(this.user.UserID);\n                // push in favorites\n\n                // if registered, go to event\n\n                this.$store.dispatch(\"getFavorites\", this.$store.state.user.UserID);\n\n                this.$router.push(\"/v/\" + this.requestedEvent[0].EventInfo[0].TinyID)\n\n            } else alert(\"wrong password! try again\");\n\n        },\n        registeriBid() {\n            // if (this.validate())\n            {\n                var salt = this.createSalt()\n                var password = $(\"#password\").val();\n                var hashDigest = sha256(salt + password);\n                // hashDigest is array of Bytes\n                var myData = {\n                    email: $(\"#email\").val(),\n\n                    //how to encode array of bytes as string\n                    password: hashDigest.toString(),\n                    salt: salt,\n                    fname: $(\"#fName\").val(),\n                    lname: $(\"#lName\").val(),\n                    zipcode: $(\"#zipcode\").val(),\n                    phone: $(\"#phone\").val()\n                };\n                $.ajax({\n                    type: \"POST\",\n                    async: true,\n                    dataType: \"json\",\n                    contentType: \"application/json\",\n                    url: \"https://localhost:5001/api/users\",\n                    data: JSON.stringify(myData),\n                    success: function (data) {\n                        console.log(\"Response Data ↓\");\n                        console.log(data);\n                    },\n                    error: function (err) {\n                        console.log(err);\n                    }\n                });\n            }\n        },\n        forgot() {\n            console.log('you forgot me!')\n        },\n        createSalt() {\n            var salt = \"\";\n            var selection = \"123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n            for (var i = 1; i <= 30; i++) {\n                salt += selection.charAt(\n                    Math.floor(Math.random() * selection.length)\n                );\n            }\n            return salt\n        },\n        validate() {\n            if ($(\"#phone\").val().length < 10 || $(\"#ccnumber\").val().length < 16) {\n                if ($(\"#phone\").val().length < 10) {\n                    $(\"#phone\").css({\n                        \"background-color\": \"#ffcccb\"\n                    });\n                    alert(\"please enter a mobile phone number with ten or more numbers\");\n                }\n                if ($(\"#ccnumber\").val().length < 16) {\n                    $(\"#ccnumber\").css({\n                        \"background-color\": \"#ffcccb\"\n                    });\n                    alert(\"please enter a valid credit card number\");\n                }\n                return false;\n            } else return true;\n        },\n        string2bytes(str) {\n            var bytes = [];\n\n            for (var i = 0; i < str.length; ++i) {\n                bytes.push(str.charCodeAt(i));\n            }\n            return bytes;\n        },\n    },\n\n    mounted() {\n        $(\"#passwordForm\").hide();\n        $(\"#registerForm\").hide();\n        $(\"#registerEvent\").hide();\n        $(\"#emailForm\").hide();\n\n        if (this.isLoggedIn) {\n            console.log(this.$store.state.user);\n        } else {\n            $(\"#emailForm\").show();\n        }\n    }\n\n};\n</script>\n\n<style scoped>\n#login {\n    padding-top: 100px;\n    width: 100%;\n    align-content: center;\n    text-align: center;\n}\n\ninput {\n    width: 100%;\n    margin-bottom: 10px;\n}\n\nlabel {\n    float: left;\n}\n\n.btn {\n    margin: 10px;\n\n}\n</style>\n"]}]}