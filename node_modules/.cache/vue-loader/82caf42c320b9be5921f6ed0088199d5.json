{"remainingRequest":"/Users/kempatkinson/Desktop/coding/ibid/ibid-mobile/ibidmobile-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kempatkinson/Desktop/coding/ibid/ibid-mobile/ibidmobile-front/src/views/LogIn.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kempatkinson/Desktop/coding/ibid/ibid-mobile/ibidmobile-front/src/views/LogIn.vue","mtime":1594309990027},{"path":"/Users/kempatkinson/Desktop/coding/ibid/ibid-mobile/ibidmobile-front/node_modules/cache-loader/dist/cjs.js","mtime":1591384219978},{"path":"/Users/kempatkinson/Desktop/coding/ibid/ibid-mobile/ibidmobile-front/node_modules/babel-loader/lib/index.js","mtime":1591384219394},{"path":"/Users/kempatkinson/Desktop/coding/ibid/ibid-mobile/ibidmobile-front/node_modules/cache-loader/dist/cjs.js","mtime":1591384219978},{"path":"/Users/kempatkinson/Desktop/coding/ibid/ibid-mobile/ibidmobile-front/node_modules/vue-loader/lib/index.js","mtime":1591384224540}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IFZGYWNlYm9va0xvZ2luIGZyb20gInZ1ZS1mYWNlYm9vay1sb2dpbi1jb21wb25lbnQiOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFZGYWNlYm9va0xvZ2luCiAgfSwKICBuYW1lOiAidGVzdCIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzSW5pdDogZmFsc2UsCiAgICAgIGlzU2lnbkluOiBmYWxzZSwKICAgICAgR29vZ2xlVXNlcjoge30sCiAgICAgIEZCOiB7fSwKICAgICAgRkJVc2VyOiAiIiwKICAgICAgbW9kZWw6IHt9LAogICAgICBzY29wZToge30KICAgIH07CiAgfSwKCiAgbWV0aG9kczogewogICAgLy9mYWNlYm9vawogICAgaGFuZGxlU2RrSW5pdCh7IEZCLCBzY29wZSB9KSB7CiAgICAgIHRoaXMuRkIgPSBGQjsKICAgICAgdGhpcy5zY29wZSA9IHNjb3BlOwogICAgICB0aGlzLmdldEVtYWlsKCk7CiAgICB9LAogICAgZ2V0RW1haWwoKSB7CiAgICAgIEZCLmxvZ2luKAogICAgICAgIGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuYXV0aFJlc3BvbnNlKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJXZWxjb21lISAgRmV0Y2hpbmcgeW91ciBpbmZvcm1hdGlvbi4uLi4gIik7CiAgICAgICAgICAgIEZCLmFwaSgiL21lIiwgZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5pZCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICAgIC8vIHRoaXMuRkJVc2VyID0gcmVzcG9uc2UuaWQ7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zb2xlLmxvZygiVXNlciBjYW5jZWxsZWQgbG9naW4gb3IgZGlkIG5vdCBmdWxseSBhdXRob3JpemUuIik7CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBzY29wZTogImVtYWlsIiwKICAgICAgICAgIHJldHVybl9zY29wZXM6IHRydWUKICAgICAgICB9CiAgICAgICk7CiAgICB9LAogICAgLy9nb29nbGUKICAgIGhhbmRsZUNsaWNrR2V0QXV0aCgpIHsKICAgICAgdGhpcy4kZ0F1dGgKICAgICAgICAuZ2V0QXV0aENvZGUoKQogICAgICAgIC50aGVuKGF1dGhDb2RlID0+IHsKICAgICAgICAgIC8vIE9uIHN1Y2Nlc3MKICAgICAgICAgIHJldHVybiB0aGlzLiRodHRwLnBvc3QoImh0dHA6Ly95b3VyLWJhY2tlbmQtc2VydmVyLmNvbS9hdXRoL2dvb2dsZSIsIHsKICAgICAgICAgICAgY29kZTogYXV0aENvZGUsCiAgICAgICAgICAgIHJlZGlyZWN0X3VyaTogInBvc3RtZXNzYWdlIgogICAgICAgICAgfSk7CiAgICAgICAgfSkKICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAvLyBBbmQgdGhlbgogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgIC8vIE9uIGZhaWwgZG8gc29tZXRoaW5nCiAgICAgICAgfSk7CiAgICB9LAoKICAgIGhhbmRsZUNsaWNrU2lnbkluKCkgewogICAgICB0aGlzLiRnQXV0aAogICAgICAgIC5zaWduSW4oKQogICAgICAgIC50aGVuKHVzZXIgPT4gewogICAgICAgICAgLy8gT24gc3VjY2VzcyBkbyBzb21ldGhpbmcsIHJlZmVyIHRvIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL2FwaS1jbGllbnQtbGlicmFyeS9qYXZhc2NyaXB0L3JlZmVyZW5jZS9yZWZlcmVuY2Vkb2NzI2dvb2dsZXVzZXJnZXRpZAogICAgICAgICAgY29uc29sZS5sb2coInVzZXIiLCB1c2VyKTsKICAgICAgICAgIHRoaXMuaXNTaWduSW4gPSB0aGlzLiRnQXV0aC5pc0F1dGhvcml6ZWQ7CiAgICAgICAgICB0aGlzLkdvb2dsZVVzZXIgPSB1c2VyOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgIC8vIE9uIGZhaWwgZG8gc29tZXRoaW5nCiAgICAgICAgfSk7CiAgICB9LAoKICAgIGhhbmRsZUNsaWNrU2lnbk91dCgpIHsKICAgICAgdGhpcy4kZ0F1dGgKICAgICAgICAuc2lnbk91dCgpCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgLy8gT24gc3VjY2VzcyBkbyBzb21ldGhpbmcKICAgICAgICAgIHRoaXMuaXNTaWduSW4gPSB0aGlzLiRnQXV0aC5pc0F1dGhvcml6ZWQ7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgLy8gT24gZmFpbCBkbyBzb21ldGhpbmcKICAgICAgICB9KTsKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICBsZXQgdGhhdCA9IHRoaXM7CiAgICBsZXQgY2hlY2tHYXV0aExvYWQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKICAgICAgdGhhdC5pc0luaXQgPSB0aGF0LiRnQXV0aC5pc0luaXQ7CiAgICAgIHRoYXQuaXNTaWduSW4gPSB0aGF0LiRnQXV0aC5pc0F1dGhvcml6ZWQ7CiAgICAgIGlmICh0aGF0LmlzSW5pdCkgY2xlYXJJbnRlcnZhbChjaGVja0dhdXRoTG9hZCk7CiAgICB9LCAxMDAwKTsKICB9Cn07Cg=="},{"version":3,"sources":["LogIn.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LogIn.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"login\">\n    <h1>Log In</h1>\n\n    <div id=\"google\">\n      <button @click=\"handleClickGetAuth\" :disabled=\"!isInit\">get auth code</button>\n      <button @click=\"handleClickSignIn\" v-if=\"!isSignIn\" :disabled=\"!isInit\">signIn</button>\n      <button @click=\"handleClickSignOut\" v-if=\"isSignIn\" :disabled=\"!isInit\">signOut</button>\n    </div>\n    <div id=\"facebook\">\n      <v-facebook-login v-model=\"model\" app-id=\"225244491798274\" @sdk-init=\"handleSdkInit\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport VFacebookLogin from \"vue-facebook-login-component\";\n\nexport default {\n  components: {\n    VFacebookLogin\n  },\n  name: \"test\",\n  data() {\n    return {\n      isInit: false,\n      isSignIn: false,\n      GoogleUser: {},\n      FB: {},\n      FBUser: \"\",\n      model: {},\n      scope: {}\n    };\n  },\n\n  methods: {\n    //facebook\n    handleSdkInit({ FB, scope }) {\n      this.FB = FB;\n      this.scope = scope;\n      this.getEmail();\n    },\n    getEmail() {\n      FB.login(\n        function(response) {\n          if (response.authResponse) {\n            console.log(\"Welcome!  Fetching your information.... \");\n            FB.api(\"/me\", function(response) {\n              console.log(response.id);\n            });\n            console.log(response);\n            // this.FBUser = response.id;\n          } else {\n            console.log(\"User cancelled login or did not fully authorize.\");\n          }\n        },\n        {\n          scope: \"email\",\n          return_scopes: true\n        }\n      );\n    },\n    //google\n    handleClickGetAuth() {\n      this.$gAuth\n        .getAuthCode()\n        .then(authCode => {\n          // On success\n          return this.$http.post(\"http://your-backend-server.com/auth/google\", {\n            code: authCode,\n            redirect_uri: \"postmessage\"\n          });\n        })\n        .then(response => {\n          // And then\n          console.log(response);\n        })\n        .catch(error => {\n          console.log(error);\n          // On fail do something\n        });\n    },\n\n    handleClickSignIn() {\n      this.$gAuth\n        .signIn()\n        .then(user => {\n          // On success do something, refer to https://developers.google.com/api-client-library/javascript/reference/referencedocs#googleusergetid\n          console.log(\"user\", user);\n          this.isSignIn = this.$gAuth.isAuthorized;\n          this.GoogleUser = user;\n        })\n        .catch(error => {\n          // On fail do something\n        });\n    },\n\n    handleClickSignOut() {\n      this.$gAuth\n        .signOut()\n        .then(() => {\n          // On success do something\n          this.isSignIn = this.$gAuth.isAuthorized;\n        })\n        .catch(error => {\n          // On fail do something\n        });\n    }\n  },\n  mounted() {\n    let that = this;\n    let checkGauthLoad = setInterval(function() {\n      that.isInit = that.$gAuth.isInit;\n      that.isSignIn = that.$gAuth.isAuthorized;\n      if (that.isInit) clearInterval(checkGauthLoad);\n    }, 1000);\n  }\n};\n</script>\n\n<style scoped>\n#login {\n  padding-top: 100px;\n  width: 100%;\n  align-content: center;\n  text-align: center;\n}\n.v-facebook-login {\n  margin-left: 43.75%;\n  margin-top: 5%;\n  width: 12.5%;\n}\n#facebook {\n  width: 100%;\n}\n</style>"]}]}