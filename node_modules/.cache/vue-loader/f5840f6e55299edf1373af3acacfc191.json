{"remainingRequest":"/Users/kempatkinson/Desktop/work/ibid_mobile/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kempatkinson/Desktop/work/ibid_mobile/client/src/views/Post.vue?vue&type=style&index=0&id=66b2084c&scoped=true&lang=css&","dependencies":[{"path":"/Users/kempatkinson/Desktop/work/ibid_mobile/client/src/views/Post.vue","mtime":1588360750487},{"path":"/Users/kempatkinson/Desktop/work/ibid_mobile/client/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kempatkinson/Desktop/work/ibid_mobile/client/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/kempatkinson/Desktop/work/ibid_mobile/client/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/kempatkinson/Desktop/work/ibid_mobile/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kempatkinson/Desktop/work/ibid_mobile/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmlucHV0IHsKICBtYXJnaW4tbGVmdDogNSU7CiAgbWFyZ2luLXJpZ2h0OiA1JTsKICB3aWR0aDogNjAlOwogIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0Z3JheTsKfQppbWcgewogIG1hcmdpbjogNSU7Cn0K"},{"version":3,"sources":["Post.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Post.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col d-flex justify-content-center\">\n        <div class=\"card\" style=\"width: 18rem;\">\n          <br />\n          <h3 class=\"card-title\">{{post.name}}</h3>\n          <img class=\"card-image-top\" src=\"../assets/sample.jpg\" />\n          <div class=\"card-body\">\n            <h4 class=\"card-title\">Current Bid: {{post.price}}</h4>\n            <h5>Minmum raise: {{post.raise}}</h5>\n            <div class=\"row justify-content-center\">\n              <form>\n                <a v-on:click.prevent=\"decrement\">\n                  <svg\n                    class=\"bi bi-dash-circle\"\n                    width=\"1.5em\"\n                    height=\"1.5em\"\n                    viewBox=\"0 0 16 16\"\n                    fill=\"currentColor\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                  >\n                    <path\n                      fill-rule=\"evenodd\"\n                      d=\"M8 15A7 7 0 108 1a7 7 0 000 14zm0 1A8 8 0 108 0a8 8 0 000 16z\"\n                      clip-rule=\"evenodd\"\n                    />\n                    <path\n                      fill-rule=\"evenodd\"\n                      d=\"M3.5 8a.5.5 0 01.5-.5h8a.5.5 0 010 1H4a.5.5 0 01-.5-.5z\"\n                      clip-rule=\"evenodd\"\n                    />\n                  </svg>\n                </a>\n                <input id=\"bid\" type=\"number\" v-model=\"bid\" />\n                <a v-on:click.prevent=\"increment\">\n                  <svg\n                    class=\"bi bi-plus-circle\"\n                    width=\"1.5em\"\n                    height=\"1.5em\"\n                    viewBox=\"0 0 16 16\"\n                    fill=\"currentColor\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                  >\n                    <path\n                      fill-rule=\"evenodd\"\n                      d=\"M8 3.5a.5.5 0 01.5.5v4a.5.5 0 01-.5.5H4a.5.5 0 010-1h3.5V4a.5.5 0 01.5-.5z\"\n                      clip-rule=\"evenodd\"\n                    />\n                    <path\n                      fill-rule=\"evenodd\"\n                      d=\"M7.5 8a.5.5 0 01.5-.5h4a.5.5 0 010 1H8.5V12a.5.5 0 01-1 0V8z\"\n                      clip-rule=\"evenodd\"\n                    />\n                    <path\n                      fill-rule=\"evenodd\"\n                      d=\"M8 15A7 7 0 108 1a7 7 0 000 14zm0 1A8 8 0 108 0a8 8 0 000 16z\"\n                      clip-rule=\"evenodd\"\n                    />\n                  </svg>\n                </a>\n              </form>\n            </div>\n            <br />\n            <button\n              type=\"button\"\n              class=\"btn btn-outline-dark\"\n              v-on:click.prevent=\"submit\"\n            >Submit Bid</button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <br />\n\n    <div class=\"row\">\n      <div class=\"col d-flex justify-content-center\">\n        <button v-if=\"nextIndex\" @click=\"moveNextIndex\">\n          <p>Next item</p>\n        </button>\n        <button v-if=\"prevIndex\" @click=\"movePrevIndex\">\n          <p>Previous item</p>\n        </button>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col d-flex justify-content-center\">\n        <button>\n          <router-link to=\"/\">Back to All</router-link>\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  mounted() {\n    this.getNextIndex(), this.getPrevIndex();\n  },\n\n  name: \"post\",\n  data() {\n    return {\n      post: this.$store.getters.post(this.$route.params.id),\n      bid:\n        this.$store.getters.post(this.$route.params.id).price +\n        this.$store.getters.post(this.$route.params.id).raise,\n      nextIndex: true,\n      prevIndex: true\n    };\n  },\n  methods: {\n    increment() {\n      this.bid =\n        parseInt(this.bid) +\n        this.$store.getters.post(this.$route.params.id).raise;\n    },\n    decrement() {\n      if (\n        this.bid >\n        parseInt(this.$store.getters.post(this.$route.params.id).price) +\n          this.$store.getters.post(this.$route.params.id).raise\n      ) {\n        this.bid =\n          this.bid - this.$store.getters.post(this.$route.params.id).raise;\n      }\n    },\n    async submit() {\n      if (\n        this.bid >=\n        parseInt(this.$store.getters.post(this.$route.params.id).price) +\n          this.$store.getters.post(this.$route.params.id).raise\n      ) {\n        alert(\"all good\");\n        var newPost = {\n          Id: this.$store.getters.post(this.$route.params.id).id,\n          Name: this.$store.getters.post(this.$route.params.id).name,\n          Image: this.$store.getters.post(this.$route.params.id).image,\n          Price: parseInt(this.bid),\n          Raise: parseInt(this.$store.getters.post(this.$route.params.id).raise)\n        };\n        const url =\n          \"https://localhost:5001/api/BidItems/\" + this.$route.params.id;\n        return axios\n          .put(url, newPost, {\n            headers: {\n              \"Content-Type\": \"application/json\"\n            }\n          })\n          .then(response => {\n            console.log(response);\n            this.post.price = this.bid;\n          })\n          .catch(error => {\n            console.log(error.response);\n          });\n      } else {\n        alert(\"your bid is not high enough\");\n      }\n    },\n    getNextIndex() {\n      if (\n        this.$store.state.posts.findIndex(x => x.id === this.$route.params.id) <\n        this.$store.state.posts.length\n      ) {\n        this.nextIndex = true;\n      } else this.nextIndex = false;\n    },\n    moveNextIndex() {\n      this.$router.push(\n        this.$store.state.posts[\n          this.$store.state.posts.findIndex(\n            x => x.id === this.$route.params.id\n          ) + 1\n        ].id\n      );\n      // check beforeRouteUpdate\n      this.post = this.$store.getters.post(this.$route.params.id);\n      (this.bid =\n        this.$store.getters.post(this.$route.params.id).price +\n        this.$store.getters.post(this.$route.params.id).raise),\n        this.getNextIndex();\n      this.getPrevIndex();\n    },\n    getPrevIndex() {\n      if (\n        this.$store.state.posts.findIndex(\n          x => x.id === this.$route.params.id\n        ) >= 1\n      ) {\n        this.prevIndex = true;\n      } else this.prevIndex = false;\n    },\n    movePrevIndex() {\n      this.$router.push(\n        this.$store.state.posts[\n          this.$store.state.posts.findIndex(\n            x => x.id === this.$route.params.id\n          ) - 1\n        ].id\n      );\n      // // check beforeRouteUpdate\n      this.post = this.$store.getters.post(this.$route.params.id);\n      (this.bid =\n        this.$store.getters.post(this.$route.params.id).price +\n        this.$store.getters.post(this.$route.params.id).raise),\n        this.getNextIndex();\n      this.getPrevIndex();\n    }\n  }\n};\n</script>\n\n<style scoped>\ninput {\n  margin-left: 5%;\n  margin-right: 5%;\n  width: 60%;\n  background-color: lightgray;\n}\nimg {\n  margin: 5%;\n}\n</style>"]}]}