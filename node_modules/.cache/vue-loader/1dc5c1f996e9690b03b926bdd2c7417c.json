{"remainingRequest":"/Users/kempatkinson/Desktop/ibid/ibid-mobile/ibidmobile-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kempatkinson/Desktop/ibid/ibid-mobile/ibidmobile-front/src/views/LogIn.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kempatkinson/Desktop/ibid/ibid-mobile/ibidmobile-front/src/views/LogIn.vue","mtime":1599069697176},{"path":"/Users/kempatkinson/Desktop/ibid/ibid-mobile/ibidmobile-front/node_modules/cache-loader/dist/cjs.js","mtime":1591384219978},{"path":"/Users/kempatkinson/Desktop/ibid/ibid-mobile/ibidmobile-front/node_modules/babel-loader/lib/index.js","mtime":1591384219394},{"path":"/Users/kempatkinson/Desktop/ibid/ibid-mobile/ibidmobile-front/node_modules/cache-loader/dist/cjs.js","mtime":1591384219978},{"path":"/Users/kempatkinson/Desktop/ibid/ibid-mobile/ibidmobile-front/node_modules/vue-loader/lib/index.js","mtime":1591384224540}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IGJjeXJwdCBmcm9tICdiY3J5cHQnOwoKZXhwb3J0IGRlZmF1bHQgewogICAgY29tcG9uZW50czoge30sCiAgICBuYW1lOiAidGVzdCIsCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHVzZXI6IHt9LAogICAgICAgIH07CiAgICB9LAoKICAgIG1ldGhvZHM6IHsKICAgICAgICBjaGVja0lEKCkgewogICAgICAgICAgICAvLyBpZiBndWVzdCBpZCBleGlzdHMgaW4gc3RhdGU6CiAgICAgICAgICAgIGlmICh0aGlzLmlkKSB7CiAgICAgICAgICAgICAgICAvLyBpcyBpdCByZWdpc3RlcmVkIGZvciBldmVudD8KICAgICAgICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgICAgICAgICAgLmdldCgiaHR0cHM6Ly9sb2NhbGhvc3Q6NTAwMS9hcGkvdXNlcnMvIiArIHRoaXMuaWQpCiAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiByZWdpc3RlcmVkIGZvciBldmVudCwgcmVkaXJlY3QgYW5kIGxvZyBpbgogICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiByZXNwb25zZSBpcyBudWxsLCBzaG93IHJlZ2lzdGVyIGZvcm0KICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vIGlmIG5vIGd1ZXN0IGlkLCBzaG93IGxvZyBpbgoKICAgICAgICAgICAgICAgICQoIiNlbWFpbEZvcm0iKS5zaG93KCk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGNoZWNrRW1haWwoKSB7CiAgICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgICAgICAuZ2V0KCJodHRwczovL2xvY2FsaG9zdDo1MDAxL2FwaS91c2Vycy9lbWFpbC8iICsgJCgiI2VtYWlsIikudmFsKCkpCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgLy8gaWYgZW1haWwgaXMgYXNzb2NpYXRlZCB3aXRoIGV2ZW50LCBzaG93IHBhc3N3b3JkIGZvcm0KICAgICAgICAgICAgICAgICAgICAvLyBpZiBlbWFpbCBpcyBub3QgYXNzb2NpYXRlZCB3aXRoIGV2ZW50LCBzaG93IHJlZ3NpdGVyIGZvcm0KICAgICAgICAgICAgICAgICAgICAvLyBpZiBlbWFpbCBkb2VzIG5vdCBleGlzdCBpbiBkYXRhYmFzZSwgbWFrZSB0aGVtIHJlZ2lzdGVyCiAgICAgICAgICAgICAgICAgICAgdGhpcy51c2VyID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgICAgICAkKCIjcGFzc3dvcmRGb3JtIikuc2hvdygpOwoKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhoYXNoU3luYygicGFzc3dvcmQiLCAiWE5XQVlPQlhONzFEREdHNDgyWVlBOUFLNUg2SFFLIikpCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgJCgiI3JlZ2lzdGVyRm9ybSIpLnNob3coKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICB9LAogICAgICAgIGxvZ0luKCkgewogICAgICAgICAgICAvLyBnZXQgc2FsdAogICAgICAgICAgICB0aGlzLmdldFVzZXJTYWx0KCQoIiNlbWFpbCIpLnZhbCgpKTsKCiAgICAgICAgfSwKICAgICAgICByZWdpc3RlcigpIHsKCiAgICAgICAgfQogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgZ2V0VXNlclNhbHQ6IGZ1bmN0aW9uIChlbWFpbCkgewogICAgICAgICAgICAvLyBheGlvcwogICAgICAgICAgICAvLyAgICAgLmdldCgiaHR0cHM6Ly9sb2NhbGhvc3Q6NTAwMS9hcGkvdXNlcnMvIiArIGVtYWlsKQogICAgICAgICAgICAvLyAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAvLyAgICAgICAgIC8vIHJldHVybiBzYWx0CiAgICAgICAgICAgIC8vICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpCiAgICAgICAgICAgIC8vICAgICB9KQogICAgICAgICAgICAvLyAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgIC8vICAgICB9KTsKICAgICAgICB9LAogICAgICAgIC8vaGFzaGVyCiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICAkKCIjZW1haWxGb3JtIikuaGlkZSgpOwogICAgICAgICQoIiNwYXNzd29yZEZvcm0iKS5oaWRlKCk7CiAgICAgICAgJCgiI3JlZ2lzdGVyRm9ybSIpLmhpZGUoKTsKCiAgICAgICAgdGhpcy5jaGVja0lEKCk7CiAgICB9Cn07Cg=="},{"version":3,"sources":["LogIn.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"LogIn.vue","sourceRoot":"src/views","sourcesContent":["<template>\n<div id=\"login\">\n    <h1>Log In</h1>\n\n    <div id=\"emailForm\">\n        <label for=\"email\">Email:</label>\n        <input type=\"text\" id=\"email\" name=\"email\" />\n        <button @click=\"checkEmail\">Next</button>\n    </div>\n    <div id=\"passwordForm\">\n        <!--        <button @click=\"forgot\">Forgot Password?</button> -->\n        <label for=\"password\">Password:</label>\n        <input type=\"text\" id=\"password\" name=\"password\" />\n        <button @click=\"logIn\">Log In</button>\n    </div>\n    <div id=\"registerForm\">\n        <form>\n            <label for=\"firstName\">First Name:</label>\n            <input type=\"text\" id=\"fName\" name=\"firstName\" />\n            <br>\n            <label for=\"lastName\">Last Name:</label>\n            <input type=\"text\" id=\"lName\" name=\"lastName\" />\n            <br>\n            <label for=\"phone\">Phone:</label>\n            <input type=\"number\" id=\"phone\" name=\"phone\" />\n            <br>\n            <button @click=\"register\">Register</button>\n\n        </form>\n    </div>\n</div>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport bcyrpt from 'bcrypt';\n\nexport default {\n    components: {},\n    name: \"test\",\n    data() {\n        return {\n            user: {},\n        };\n    },\n\n    methods: {\n        checkID() {\n            // if guest id exists in state:\n            if (this.id) {\n                // is it registered for event?\n                axios\n                    .get(\"https://localhost:5001/api/users/\" + this.id)\n                    .then(response => {\n                        // if registered for event, redirect and log in\n                        // if response is null, show register form\n                    })\n                    .catch(error => {\n                        console.log(error);\n                    });\n            } else {\n                // if no guest id, show log in\n\n                $(\"#emailForm\").show();\n            }\n        },\n        checkEmail() {\n            axios\n                .get(\"https://localhost:5001/api/users/email/\" + $(\"#email\").val())\n                .then(response => {\n                    // if email is associated with event, show password form\n                    // if email is not associated with event, show regsiter form\n                    // if email does not exist in database, make them register\n                    this.user = response.data;\n                    $(\"#passwordForm\").show();\n\n                    console.log(hashSync(\"password\", \"XNWAYOBXN71DDGG482YYA9AK5H6HQK\"))\n                })\n                .catch(error => {\n                    console.log(error);\n                    $(\"#registerForm\").show();\n                });\n\n        },\n        logIn() {\n            // get salt\n            this.getUserSalt($(\"#email\").val());\n\n        },\n        register() {\n\n        }\n    },\n    computed: {\n        getUserSalt: function (email) {\n            // axios\n            //     .get(\"https://localhost:5001/api/users/\" + email)\n            //     .then(response => {\n            //         // return salt\n            //         console.log(response)\n            //     })\n            //     .catch(error => {\n            //         console.log(error);\n            //     });\n        },\n        //hasher\n    },\n    mounted() {\n        $(\"#emailForm\").hide();\n        $(\"#passwordForm\").hide();\n        $(\"#registerForm\").hide();\n\n        this.checkID();\n    }\n};\n</script>\n\n<style scoped>\n#login {\n    padding-top: 100px;\n    width: 100%;\n    align-content: center;\n    text-align: center;\n}\n</style>\n"]}]}